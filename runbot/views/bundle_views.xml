<odoo>
  <data>
    <record id="view_runbot_bundle" model="ir.ui.view">
        <field name="model">runbot.bundle</field>
        <field name="arch" type="xml">
            <form string="Bundles">
                <div class="oe_button_box" name="button_box">
                    <button name="toggle_request_branch_rebuild" type="object" class="oe_stat_button" icon="fa-play">
                    <field name="rebuild_requested" widget="boolean_button" options='{"terminology": {
                        "string_true": "Rebuild Asked",
                        "hover_true": "Cancel the branch rebuild",
                        "string_false": "No Rebuild Asked",
                        "hover_false": "Request a branch rebuild"
                    }}'/>
                    </button>
                </div>
                <group>
                    <field name="name"/>
                    <field name="project_id"/>
                    <field name="sticky"/>
                    <field name="is_base"/>
                    <field name="version_id"/>
                    <field name="no_build"/>
                    <field name="branch_ids">
                        <tree>
                            <field name="branch_name"/>
                            <field name="repo_id"/>
                            <field name="pull_head_name"/>
                            <field name="target_branch_name"/>
                        </tree>
                    </field>
                    <field name="batch_ids">
                        <tree>
                            <field name="state"/>
                            <field name="bundle_commit_ids"/>
                            <field name="slot_ids"/>
                        </tree>
                    </field>
                </group>
            </form>
        </field>
    </record>
    <record id="view_runbot_bundle_tree" model="ir.ui.view">
        <field name="model">runbot.bundle</field>
        <field name="arch" type="xml">
            <tree string="Build params">
                <field name="name"/>
                <field name="branch_ids"/>
            </tree>
        </field>
    </record>

    <record id="view_runbot_batch" model="ir.ui.view">
        <field name="model">runbot.batch</field>
        <field name="arch" type="xml">
            <form string="Bundle batch">
                <group>
                    <field name="last_update"/>
                    <field name="bundle_id"/>
                    <field name="state"/>
                    <field name="bundle_commit_ids">
                        <tree>
                            <field name="commit_id"/>
                            <field name="match_type"/>
                        </tree>
                    </field>
                    <field name="slot_ids">
                        <tree>
                            <field name="trigger_id"/>
                            <field name="build_id"/>
                            <field name="link_type"/>
                            <field name="result"/>
                        </tree>
                    </field>
                </group>
            </form>
        </field>
    </record>
    <record id="view_runbot_batch_tree" model="ir.ui.view">
        <field name="model">runbot.batch</field>
        <field name="arch" type="xml">
            <tree string="Build params">
                <field name="bundle_id"/>
                <field name="state"/>
            </tree>
        </field>
    </record>


    <record id="action_bundle" model="ir.actions.act_window">
        <field name="name">Bundles</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">runbot.bundle</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="action_bundle_project" model="ir.actions.act_window">
        <field name="name">Categories</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">runbot.project</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="action_bundle_version" model="ir.actions.act_window">
        <field name="name">Versions</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">runbot.version</field>
        <field name="view_mode">tree,form</field>
    </record>
    <record id="action_bundle_batch" model="ir.actions.act_window">
        <field name="name">Instances</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">runbot.batch</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_bundle" name="Bundle" parent="runbot_menu_root"/>
    <menuitem id="menu_bundle_bundle" action="action_bundle" parent="menu_bundle"/>
    <menuitem id="menu_bundle_project" action="action_bundle_project" parent="menu_bundle"/>
    <menuitem id="menu_bundle_version" action="action_bundle_version" parent="menu_bundle"/>
    <menuitem id="menu_bundle_batch" action="action_bundle_batch" parent="menu_bundle"/>
  </data>
</odoo>